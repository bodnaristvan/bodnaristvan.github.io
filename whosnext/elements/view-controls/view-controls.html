<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="view-controls">
  <template>
    <style>
      :host {
        display: block;
        margin: 0px auto;
      }
      :host a.button {
        padding: 1em 5em;
        background-color: pink;
        background-image: url(../../images/gomb.png);
        background-size: 100% 100%;
        width: 220px;
        height: 25px;
        display: block;
        text-decoration: none;
        font-size: 1.5em;
        color: black;
      }
    </style>
    <div>
      <a href="#" class="button" on-click="_onGetticketClick">JEGYET KÉREK</a>
      <a href="#" class="button" on-click="_onLookdownClick">MI IS A SZÁMOM?</a>
    </div>
  </template>
  <script>
  (function() {
    'use strict';
    var lookdownTimeout;

    Polymer({
      is: 'view-controls',

      properties: {},

      _onLookdownClick: function (e) {
        if (lookdownTimeout) {
          window.clearTimeout(lookdownTimeout);
        }
        e.stopPropagation();
        document.querySelector('#scene').classList.add('lookdown');
        lookdownTimeout = window.setTimeout(function () {
          document.querySelector('#scene').classList.remove('lookdown');
        }, 2000);
      },

      _onGetticketClick: function (e) {
        if (lookdownTimeout) {
          window.clearTimeout(lookdownTimeout);
        }
        e.stopPropagation();
        var app = document.querySelector('#app');
        document.querySelector('#scene').classList.add('lookdown');
        window.setTimeout(function () {
          app.num = Math.floor(Math.random() * 1000 + 1000);
        }, 1500);
        
        lookdownTimeout = window.setTimeout(function () {
          document.querySelector('#scene').classList.remove('lookdown');
        }, 5000);
      }
    });
  })();
  </script>
</dom-module>
